import{d as R,m as S,p as c,q as j,a as l,c as d,b as s,s as q,x as z,w as u,y as p,e as m,u as o,t as h,l as f,f as B,g as C,B as E,i as L,A as T}from"./index-Cw8cdpGn.js";import{u as U,a as v,_ as D}from"./vee-validate-C62JxgHU.js";import{c as g}from"./alertConfig-CJyAuoJF.js";const Z={id:"layoutAuthentication",class:"d-flex align-items-center justify-content-center",style:{"min-height":"100vh"}},$={id:"layoutAuthentication_content"},F={class:"container-xl px-4 h-100 col-sm-12 col-md-9"},H={class:"row justify-content-center"},I={class:""},W={class:"card shadow-lg border-0 rounded-lg"},G={class:"card-body"},J={class:"mb-3"},K={key:0,class:"invalid-feedback"},O={class:"mb-3"},Q={key:0,class:"invalid-feedback"},X={class:"d-flex justify-content-end pt-2"},Y={class:"small"},ae=R({__name:"LoginPage",setup(ee){const b=U(),w=E(),a=S({phoneNo:"",password:""}),y=t=>t?/^[0-9]{10}$/.test(t)?t.length>10&&t.length<10?"Phone number must be 10 digits":!0:"Phone number must be valid!!":"Phone Number required",{value:_,errorMessage:x,meta:n}=v("phoneNo",y);c(()=>a.phoneNo,t=>{_.value=t});const N=t=>{const e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/;return t?e.test(t)?"Password must contain at least 8 characters, one uppercase letter, one lowercase letter and one number":t.length>10?"Password must be less than 10 characters":!0:"Password is required"},{value:P,errorMessage:k,meta:r}=v("password",N);c(()=>a.password,t=>{P.value=t});const A=j(()=>n.validated&&n.valid&&r.validated&&r.valid),V=()=>{A.value&&b.loginAffiliate(a).then(t=>{console.log(t),t.result==="ok"?w.push({name:"dashboard"}):g("error","An error occurred, please try again")}).catch(t=>{console.log(t),g("error","An error occurred, please try again")})};return(t,e)=>{const M=L("RouterLink");return l(),d("div",Z,[s("div",$,[s("main",null,[s("div",F,[s("div",H,[s("div",I,[s("div",W,[e[7]||(e[7]=q('<div class="justify-content-center pt-4"><div class="d-flex justify-content-center pb-3"><img src="'+D+'" alt="habahaba-logo" class="w-25"></div><h3 class="fw-light text-center">Welcome Back!</h3><p class="fw-light fs-6 text-center"> Hey! enter your details to login in to your account </p></div>',1)),s("div",G,[s("form",{onSubmit:z(V,["prevent"])},[s("div",J,[e[2]||(e[2]=s("label",{class:"small mb-1",for:"inputUsername"},"Phone Number",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>a.phoneNo=i),class:m(["form-control",{"is-invalid":o(n).validated&&!o(n).valid}]),id:"inputPhoneNumber",type:"text",placeholder:"0712345678",style:{"font-size":"15px"},required:""},null,2),[[p,a.phoneNo]]),o(n).validated&&!o(n).valid?(l(),d("small",K,h(o(x)),1)):f("",!0)]),s("div",O,[e[5]||(e[5]=s("label",{class:"small mb-1 text-",for:"inputPassword"},"Password",-1)),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>a.password=i),class:m(["form-control",{"is-invalid":o(r).validated&&!o(r).valid}]),id:"inputPassword",type:"password",placeholder:"Enter password",required:"",style:{"font-size":"15px"}},null,2),[[p,a.password]]),o(r).validated&&!o(r).valid?(l(),d("small",Q,h(o(k)),1)):f("",!0),s("div",X,[s("div",Y,[e[4]||(e[4]=s("span",null,"Not a user? ",-1)),B(M,{to:"/",class:"text-decoration-none"},{default:C(()=>e[3]||(e[3]=[T("Sign up! ")])),_:1})])])]),e[6]||(e[6]=s("button",{type:"submit",class:"btn btn-primary col-12 mt-3 mb-4"}," login ",-1))],32)])])])])])])])])}}});export{ae as default};
